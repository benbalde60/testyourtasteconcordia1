<!DOCTYPE html>
<html>
    <head>
        <!-- Metadata -->
        <meta charset="utf-8" />
        <meta name="author" content="Aimee Nduwumwe" />
        <meta name="description" content="Cucumber Page" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <title>Cucumber</title>

        <!--Link Bootstrap 4 styling to document-->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
            integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
            crossorigin="anonymous"
        />


        <!-- Main styling sheet -->
        <link
            rel="stylesheet"
            type="text/css"
            href="styles-universal.css"
        />
        <link rel="stylesheet" href="Cucumber-style.css" />
    </head>

    <body>
        <!-- Navigation bar linking to home and menus -->
    <header class="container-fluid">
        <nav class="navbar navbar-expand-lg navbar-light bg-white">
            <a class="navbar-brand" href="index.html"><img src="testYourTaste.png" alt="Test your Taste Logo"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMenu" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarMenu">
                <ul class="navbar-nav ml-auto">
                    <input type="text" placeholder="Search on online grocery" name="search">
                    <button type="submit"><i class="fa fa-search"></i></button>

                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="page2-1.html" id="navbarAisles" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Aisles
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarAisles">
                            <a class="dropdown-item" href="page2-1.html">Fruits</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="page2-1.html">Vegetables</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="page2-2.html">Meat</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="page2-4.html">Dairy and Eggs</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="page2-3.html">Bread & Bakery Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="p5.html">Sign In</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="p4.html"><span class="material-icons md-24">Your Cart</span></a>
                    </li>
		    <li class="nav-item">
			    <a class="nav-link" href="page7.html"><span class="material-icons md-24">Inventory</span></a>
			</li>
                </ul>
            </div>
        </nav>
    </header>


        <!-- Contain the name of the aisle in which the product is located. -->
        <main>
            <div class="jumbotron jumbotron-fluid">
                <div class="container-fluid">
                 
                </div>
            </div>

            <!-- Nav breadcrumbs to go back to upper directory -->
            <nav aria-label="breadcrumb sticky-top">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="homepage.html">Aisles</a></li>
                    <li class="breadcrumb-item"><a href="page2-1.html">Fruits</a></li>
                    <li class="breadcrumb-item active" aria-current="page">
                        Cucumber
                    </li>
                </ol>
            </nav>

            <!-- Main content -->
            <div class="container-fluid">
                <div class="row">
                    <!-- Product image -->
                    <div class="col-md-6" id="productImage">
                        <img
                            src="Cucumber.jpg"
                            class="img-fluid"
                            alt="Image of product."
                        />
                    </div>

                    <!-- Product description, pricing, quantity, add to cart button. -->
                    <div class="col-md-6" id="productDescription">
                        <h3> Cucumber</h3>
                        <h5>50g</h5>
                        <h6>$0.79/ea.</h6>
                        <p>
                            Cucumber, Cucumis sativus, is a warm season, vining, annual plant in the family Cucurbitaceae grown for its edible cucumber fruit. 
							The cucumber plant is a sprawling vine with large leaves and curling tendrils
                        </p>
                        <h5>$0.79</h5>
                        <form>
                        <div class="form-group w-25">
                            <input class="form-control form-control-lg" value="this" onclick="calculateAmount(this.value)" required type="number" min="1" placeholder="1" id="Cucumber" /> l for=<input type="quantity" name="tot_amount" id="tot_amount"
                                type="text" readonly style="border: none; width:60px;">
                            <label class="quantity">Quantity</label>
                        </div>
                    </form>

                        <button type="button" class="btn btn-outline-dark">
                            More Description
                        </button>
                        <button type="button" class="btn btn-primary">
                            Add to Cart
                        </button>
                    </div>
                </div>
            </div>
		<script>
        function calculateAmount(val) {
            var tot_price = val * 0.79;
            if (Number.isNaN(tot_price)) {
                var divobj = document.getElementById('tot_amount');
                divobj.value = "0.00$";
            } else {
                var divobj = document.getElementById('tot_amount');
                var pr = tot_price.toFixed(2) + "$";
                divobj.value = pr;
            }

        }

        function setCookie(cname, cvalue) {
            document.cookie = cname + "=" + cvalue + ";";
        }

        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1, c.length);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return null;
        }

        function checkCookie() {
            let qty = getCookie('qtyP');
            if (!Number.isNaN(qty)) {
                return qty;
            } else {
                return null;
            }
        }

        window.onload = function() {
            var i = parseInt(checkCookie());
            if (i != null) {
                document.getElementById("Cucumber").value = i;
                calculateAmount(i);
                console.log(getCookie('Pr'));
            } else {
                document.getElementById("Cucumber").value = null;
                document.getElementById('tot_amount').value = "";
            }
            console.log(document.getElementById("Cucumber").value);
            console.log(document.getElementById("tot_amount").value);
        }

        window.onbeforeunload = function() {
            setCookie('qtyP', document.getElementById("Cucumber").value);
        }
    </script>
        </main>

        <!-- Optional JavaScript functionality -->
        <script
            src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
